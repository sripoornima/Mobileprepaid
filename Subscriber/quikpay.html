<!DOCTYPE html>
<html lang="en">
<head>
  }   <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mobicom</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="icon" href="favicon.webp">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"> <!--for icon-->
    <style>
   
                .sidebar {
                    background: rgba(255, 255, 255, 0.2);
                    padding: 25px;
                    height: 100vh; /* Full height */
                    border-right: 2px solid rgba(255, 255, 255, 0.2);
                    box-shadow: 5px 0 15px rgba(0, 0, 0, 0.1);
                    display: flex;
                    flex-direction: column;
                    justify-content: flex-start;
                    border-radius: 12px 0 0 12px;
                    backdrop-filter: blur(10px);
                    
                    overflow-y: auto; /* Enables scrolling */
                    scrollbar-width: thin; /* For Firefox */
                    scrollbar-color: #2c3e50 #ffffff; /* Scrollbar color */
                }
                
                /* For WebKit-based browsers (Chrome, Edge, Safari) */
                .sidebar::-webkit-scrollbar {
                    width: 8px;
                }
                
                .sidebar::-webkit-scrollbar-thumb {
                    background: #2c3e50;
                    border-radius: 10px;
                }
                
                .sidebar::-webkit-scrollbar-track {
                    background: rgba(255, 255, 255, 0.3);
                }
                
                /* Sidebar Category Styling */
                .category {
                    cursor: pointer;
                    padding: 12px 20px;
                    border-radius: 10px;
                    margin-bottom: 10px;
                    font-size: 1rem;
                    font-weight: 600;
                    color: #2c3e50;
                    background: rgba(255, 255, 255, 0.3);
                    backdrop-filter: blur(8px);
                    transition: all 0.3s ease-in-out;
                    display: flex;
                    align-items: center;
                    box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.1);
                    border: 1px solid rgba(255, 255, 255, 0.3);
                }
                
                .category:hover {
                    background: #2c3e50;
                    color: #ffffff;
                    transform: translateX(5px);
                    box-shadow: 4px 4px 12px rgba(0, 0, 0, 0.2);
                }
                
                
              
                
                #plans-section {
                    display: none; /* Initially hidden */
                    max-height: fit-content;
                }
                .plan-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                    gap: 20px;
                }
                .card {
                    width: 100%;
                    max-width: 100%;
                    padding: 15px;
                    text-align: center;
                }
                #lbl{
                    display:flex;
                }
                body {
                    margin: 0;
                    padding: 0;
                }
                .navbar {
                    position: sticky;
                    top: 0;
                    z-index: 1020;
                    width: 100%;
                }
                .btn-custom {
                    background-color: #34495e;
                    border-color: #34495e;
                    color: white;
                }
                
                .btn-custom:hover {
                    background-color: #2c3e50; /* Slightly darker shade on hover */
                    border-color: #2c3e50;
                }
                footer {
                    background: #2c3e50;
                    color: #ffffff;
                    padding: 40px 20px;
                    font-size: 14px;
                    text-align: center;
                }
                
                .footer-container {
                    display: flex;
                    flex-wrap: wrap;
                    justify-content: space-between;
                    max-width: 1100px;
                    margin: auto;
                    text-align: left;
                }
                
                .footer-section {
                    flex: 1;
                    min-width: 200px;
                    padding: 10px;
                }
                
                .footer-section h3 {
                    font-size: 18px;
                    margin-bottom: 15px;
                    border-bottom: 2px solid #ffffff;
                    display: inline-block;
                    padding-bottom: 5px;
                }
                
                .footer-section ul {
                    list-style: none;
                    padding: 0;
                }
                
                .footer-section ul li {
                    margin-bottom: 10px;
                }
                
                .footer-section ul li a {
                    color: #ffffff;
                    text-decoration: none;
                    transition: color 0.3s ease;
                }
                
                .footer-section ul li a:hover {
                    color: #f39c12;
                }
                
                .footer-section.social {
                    text-align: center;
                }
                
                .footer-section.social a {
                    color: #ffffff;
                    font-size: 20px;
                    margin: 0 10px;
                    display: inline-block;
                    transition: transform 0.3s ease;
                }
                
                .footer-section.social a:hover {
                    transform: scale(1.2);
                    color: #f39c12;
                }
                
                .footer-bottom {
                    margin-top: 20px;
                    border-top: 1px solid rgba(255, 255, 255, 0.2);
                    padding-top: 10px;
                    font-size: 13px;
                }
                
                .floating-help-btn {
                    position: fixed;
                    bottom: 20px;
                    right: 20px;
                    background-color: #2c3e50;
                    color: white;
                    padding: 10px 15px;
                    border-radius: 50px;
                    text-decoration: none;
                    font-size: 16px;
                    box-shadow: 0px 2px 5px rgba(0,0,0,0.3);
                }
                .floating-help-btn:hover {
                    background-color: #1a252f;
                }
                
            </style>
        </head>
        <body>
         <!-- Navbar -->
         <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #34495e;">
            <div class="container">
                <a class="navbar-brand fs-5" href="index.html">Mobicom</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item"><a class="nav-link text-white mx-2" href="#plans">Plans</a></li>
                        <li class="nav-item"><a class="nav-link text-white mx-2" href="#contact">Contact</a></li>
                        <li class="nav-item"><a class="nav-link text-white mx-2" href="#services">Services</a></li>
                        <li class="nav-item"><a class="nav-link text-white mx-2" href="#mobile-validation">Login</a></li>
                        <li class="nav-item">
                            <a class="nav-link text-white" href="profile.html" data-bs-toggle="tooltip" data-bs-placement="bottom"
                                title="View Profile">
                                <i class="bi bi-person-fill"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <br>
        <div class="container d-flex justify-content-between align-items-center">
            <p><strong>Phone:</strong> <span id="userPhone"></span></p>
            <div class="d-flex gap-4">
                <input type="text" id="searchBar" class="form-control" placeholder="Search plans...">
                <select id="filterPrice" class="form-select w-auto">
                    <option value="">Filter by Price</option>
                    <option value="low">Low to High</option>
                    <option value="high">High to Low</option>
                </select>
            </div>
        
        </div>
        
        <!--Plans-->
        <div id="plans-section" class="height-50">
            <div class="row mt-4">
                <div class="col-md-2 ms-5 sidebar">
                    <h5 class="text-center">Packs & Top-ups</h5>
                    <div id="categories">
                        <div class="category w-100" data-category="Daily Data Plans">Daily Data Plans</div>
                        <div class="category w-100" data-category="Long-Term Validity Plans">Long-Term Validity Plans</div>
                        <div class="category w-100" data-category="Unlimited Talktime Plans">Unlimited Talktime Plans</div>
                        <div class="category w-100" data-category="Data Addon Packs">Data Addon Packs</div>
                        <div class="category w-100" data-category="Top-up">Top-up</div>
                        <div class="category w-100" data-category="Value Packs">Value Packs</div>
                        <div class="category w-100" data-category="Annual Packs">Annual Packs</div>
                    </div>
                </div>
                <div class="col-md-9">
            <h2 id="plan-category-title" class="text-center mb-3">Popular Plans</h2>
            <div id="plan-container" class="plan-grid gap-3">
                <!-- Plans will load dynamically here -->
            </div>
        </div>
            </div>
        </div>
        <br>
        <footer>
            <div class="footer-container">
                <div class="footer-section">
                    <h3>Mobicom</h3>
                    <p>Stay connected with the best mobile plans.</p>
                </div>
                <div class="footer-section">
                    <h3>Customer Care</h3>
                    <p>Email: support@mobicom.com</p>
                    <p>Phone: +91 98765 43210</p>
                </div>
                <div class="footer-section social">
                    <h3>Follow Us</h3><br>
                    <a href="#"><i class="fa-brands fa-facebook"></i></a>
                    <a href="#"><i class="fa-brands fa-twitter"></i></a>
                    <a href="#"><i class="fa-brands fa-instagram"></i></a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Mobicom. All rights reserved.</p>
            </div>
        </footer>
        
        
        </section>
        
        <a href="support.html" class="floating-help-btn">
            <i class="bi bi-question-circle-fill"></i> Help
        </a>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                document.getElementById("plans-section").style.display = "block"; // Show the plans section
                fetchPlansData(); // Fetch plans from JSON
            });
        
            let plans = {}; // Empty object to store fetched plans
        
            function fetchPlansData() {
                fetch("plans.json") // Fetch plans from external JSON file
                    .then(response => response.json())
                    .then(data => {
                        plans = data;
                        displayRandomPlans(); // Load default plans
                    })
                    .catch(error => console.error("Error fetching plans:", error));
            }
        
            function displayRandomPlans() {
                const planContainer = document.getElementById("plan-container");
                planContainer.innerHTML = ''; // Clear previous content
                let allPlans = [];
        
                for (let category in plans) {
                    const randomPlan = plans[category][Math.floor(Math.random() * plans[category].length)];
                    allPlans.push(randomPlan);
                }
        
                allPlans.forEach(plan => {
                    let planCard = `
                        <div class="card my-2 mx-2 py-3 px-2 text-center">
                            <h4>${plan.name}</h4>
                            <p>${plan.details}</p>
                            <div class="text-center">
                                <button class="btn btn-custom w-50" onclick="selectPlan(${plan.amount}, '${plan.name}')">Recharge Now</button>
                            </div>
                        </div>
                    `;
                    planContainer.innerHTML += planCard;
                });
            }
        
            document.querySelectorAll(".category").forEach(categoryElement => {
                categoryElement.addEventListener("click", function () {
                    const categoryName = this.dataset.category;
                    document.getElementById("plan-category-title").innerText = categoryName;
                    displayPlansForCategory(categoryName);
                });
            });
        
            function displayPlansForCategory(categoryName) {
                const planContainer = document.getElementById("plan-container");
                planContainer.innerHTML = '';
        
                if (plans[categoryName]) {
                    plans[categoryName].forEach(plan => {
                        let planCard = `
                            <div class="card my-2 mx-2 py-3 px-2 text-center">
                                <h4>${plan.name}</h4>
                                <p>${plan.details}</p>
                    <button class="btn btn-custom w-50" onclick="selectPlan(${plan.amount}, '${plan.name}')"> Recharge Now</button>    
                            </div>
                        `;
                        planContainer.innerHTML += planCard;
                    });
                }
            }
        
            function selectPlan(amount, planName) {
                let tax = Math.round(amount * 0.05);
                let totalPayable = amount + tax;
        
                localStorage.setItem("selectedPlan", JSON.stringify({
                    planName: planName,
                    baseAmount: amount,
                    tax: tax,
                    totalPayable: totalPayable
                }));
        
                window.location.href = "Payment.html";
            }
            document.addEventListener("DOMContentLoaded", function() {
                let user = JSON.parse(localStorage.getItem("selectedUser"));
            
                if (!user) {
                    document.getElementById("planDetails").innerHTML = "<p class='text-danger'>No user data found. Please go back and enter a valid mobile number.</p>";
                    return;
                }
            
                // Display user details
                document.getElementById("userPhone").innerText = user.phone;
                
            });
            document.getElementById("filterPrice").addEventListener("change", function () {
                let order = this.value;
                let planCards = [...document.querySelectorAll("#plan-container .card")];
                planCards.sort((a, b) => {
                    let priceA = parseInt(a.querySelector("button").getAttribute("onclick").match(/\d+/)[0]);
                    let priceB = parseInt(b.querySelector("button").getAttribute("onclick").match(/\d+/)[0]);
                    return order === "low" ? priceA - priceB : priceB - priceA;
                });
                document.getElementById("plan-container").innerHTML = "";
                planCards.forEach(card => document.getElementById("plan-container").appendChild(card));
            });
            document.getElementById("searchBar").addEventListener("input", function () {
                let keyword = this.value.toLowerCase();
                document.querySelectorAll("#plan-container .card").forEach(card => {
                    card.style.display = card.innerText.toLowerCase().includes(keyword) ? "block" : "none";
                });
            });
            document.getElementById("searchBar").addEventListener("input", function () {
                let keyword = this.value.toLowerCase().trim();
                let isNumber = !isNaN(keyword) && keyword !== "";
            
                document.querySelectorAll("#plan-container .card").forEach(card => {
                    let planText = card.innerText.toLowerCase();
                    let planPriceMatch = card.querySelector("button").getAttribute("onclick").match(/\d+/);
                    let planPrice = planPriceMatch ? parseInt(planPriceMatch[0]) : null;
            
                    if (isNumber) {
                        card.style.display = planPrice == parseInt(keyword) ? "block" : "none";
                    } else {
                        card.style.display = planText.includes(keyword) ? "block" : "none";
                    }
                });
            });
            // Get elements
        const helpBtn = document.getElementById("helpBtn");
        const helpModal = document.getElementById("helpModal");
        const closeBtn = document.getElementById("closeBtn");
        
        // Show modal on click
        helpBtn.onclick = function() {
            helpModal.style.display = "block";
        };
        
        // Close modal on click
        closeBtn.onclick = function() {
            helpModal.style.display = "none";
        };
        
        // Close modal if user clicks outside the modal
        window.onclick = function(event) {
            if (event.target === helpModal) {
                helpModal.style.display = "none";
            }
        };
        
            
        </script>
        
        </body>
        </html>
        .category {
            cursor: pointer;
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }
        .category:hover {
            background-color: #e9ecef;
        }
        #plans-section {
            display: none; /* Initially hidden */
        }
        .plan-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }
        .card {
            width: 100%;
            max-width: 100%;
            padding: 15px;
            text-align: center;
        }
        #lbl{
            display:flex;
        }
        body {
            margin: 0;
            padding: 0;
        }
        .navbar {
            position: sticky;
            top: 0;
            z-index: 1020;
            width: 100%;
        }
        .btn-custom {
            background-color: #34495e !important;
            border-color: #34495e !important;
            color: white !important;
        }
        
        .btn-custom:hover {
            background-color: #2c3e50 !important;
            border-color: #2c3e50 !important;
        }
        #proceed{
            background-color: #34495e;
            color: white;
        }
        
        
    </style>
</head>
<body>
 <!-- Navbar -->
 <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #34495e;">
    <div class="container">
        <a class="navbar-brand fs-5" href="index.html">Mobicom</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link text-white mx-2" href="#plans">Plans</a></li>
                <li class="nav-item"><a class="nav-link text-white mx-2" href="#contact">Contact</a></li>
                <li class="nav-item"><a class="nav-link text-white mx-2" href="#services">Services</a></li>
                <li class="nav-item"><a class="nav-link text-white mx-2" href="#mobile-validation">Login</a></li>
                <li class="nav-item">
                    <a class="nav-link text-white" href="profile.html" data-bs-toggle="tooltip" data-bs-placement="bottom"
                        title="View Profile">
                        <i class="bi bi-person-fill"></i>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>
   
    
 
<!--Plans-->
<div id="plans-section">
    <div class="row mt-4">
        <div class="col-md-2 ms-5 sidebar">
            <h5 class="text-center">Packs & Top-ups</h5>
            <div id="categories">
                <div class="category w-100" data-category="Daily Data Plans">Daily Data Plans</div>
                <div class="category w-100" data-category="Long-Term Validity Plans">Long-Term Validity Plans</div>
                <div class="category w-100" data-category="Unlimited Talktime Plans">Unlimited Talktime Plans</div>
                <div class="category w-100" data-category="ISD Plans">ISD Plans</div>
                <div class="category w-100" data-category="True 5G Unlimited Plans">True 5G Unlimited Plans</div>
                <div class="category w-100" data-category="Data Addon Packs">Data Addon Packs</div>
                <div class="category w-100" data-category="Top-up">Top-up</div>
                <div class="category w-100" data-category="Value Packs">Value Packs</div>
                <div class="category w-100" data-category="Annual Packs">Annual Packs</div>
            </div>
        </div>       
        <div class="col-md-9">
            <h2 id="plan-category-title" class="text-center mb-4">Popular Plans</h2>
            <div id="plan-container" class="plan-grid gap-3">
                <!-- Plans will load dynamically here -->
            </div>
        
        </div>
    </div>
</div>
</div>
<!-- Mobile Number Modal -->
<div class="modal fade" id="mobileNumberModal" tabindex="-1" aria-labelledby="mobileNumberModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="mobileNumberModalLabel">Enter Mobile Number</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <label for="mobileNumber" class="form-label">Mobile Number:</label>
                <input type="text" class="form-control" id="mobileNumber" placeholder="Enter 10-digit number">
                <small id="mobileError" class="text-danger d-none"></small>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn" id="proceed"onclick="validateAndProceed()">Proceed</button>
            </div>
        </div>
    </div>
</div>


</section>


<script> 





    const plan= {
        "Daily Data Plans": [
            { name: "₹239 Plan", details: "1.5GB/day | 28 days | Unlimited Calls", amount: 239 },
            { name: "₹299 Plan", details: "2GB/day | 28 days | Unlimited Calls", amount: 299 },
            { name: "₹399 Plan", details: "3GB/day | 28 days | Unlimited Calls", amount: 399 },
            { name: "₹499 Plan", details: "2.5GB/day | 56 days | Unlimited Calls", amount: 499 },
            { name: "₹599 Plan", details: "3GB/day | 56 days | Unlimited Calls", amount: 599 },
            { name: "₹799 Plan", details: "2.5GB/day | 84 days | Unlimited Calls", amount: 799 },
            { name: "₹999 Plan", details: "3GB/day | 84 days | Unlimited Calls", amount: 999 }
        ],
        "Long-Term Validity Plans": [
            { name: "₹666 Plan", details: "1.5GB/day | 84 days | Unlimited Calls", amount: 666 },
            { name: "₹899 Plan", details: "2GB/day | 84 days | Unlimited Calls", amount: 899 },
            { name: "₹1299 Plan", details: "3GB/day | 84 days | Unlimited Calls", amount: 1299 },
            { name: "₹1599 Plan", details: "2.5GB/day | 180 days | Unlimited Calls", amount: 1599 },
            { name: "₹1999 Plan", details: "3GB/day | 180 days | Unlimited Calls", amount: 1999 },
            { name: "₹2499 Plan", details: "2.5GB/day | 365 days | Unlimited Calls", amount: 2499 },
            { name: "₹2999 Plan", details: "3GB/day | 365 days | Unlimited Calls", amount: 2999 }
        ],
        "Unlimited Talktime Plans": [
            { name: "₹129 Plan", details: "Unlimited Calls | 300 SMS | 28 days", amount: 129 },
            { name: "₹179 Plan", details: "Unlimited Calls | 500 SMS | 30 days", amount: 179 },
            { name: "₹229 Plan", details: "Unlimited Calls | 1000 SMS | 30 days", amount: 229 },
            { name: "₹299 Plan", details: "Unlimited Calls | 1500 SMS | 56 days", amount: 299 },
            { name: "₹399 Plan", details: "Unlimited Calls | 2000 SMS | 56 days", amount: 399 },
            { name: "₹499 Plan", details: "Unlimited Calls | 2500 SMS | 84 days", amount: 499 },
            { name: "₹599 Plan", details: "Unlimited Calls | 3000 SMS | 84 days", amount: 599 }
        ],
        "ISD Plans": [
            { name: "₹50 ISD Plan", details: "50 mins | 30 days | Selected Countries", amount: 50 },
            { name: "₹100 ISD Plan", details: "100 mins | 30 days | Selected Countries", amount: 100 },
            { name: "₹90 ISD Plan", details: "90 mins | 30 days | Selected Countries", amount: 90 },
            { name: "₹45 ISD Plan", details: "45 mins | 30 days | Selected Countries", amount: 45 },
            { name: "₹200 ISD Plan", details: "200 mins | 30 days | Selected Countries", amount: 200 },
            { name: "₹300 ISD Plan", details: "300 mins | 30 days | Selected Countries", amount: 300 },
            { name: "₹500 ISD Plan", details: "500 mins | 30 days | Selected Countries", amount: 500 }
        ],
        "True 5G Unlimited Plans": [
            { name: "₹899 Plan", details: "Unlimited 5G Data | 90 days | Unlimited Calls", amount: 899 },
            { name: "₹1199 Plan", details: "Unlimited 5G Data | 90 days | Unlimited Calls", amount: 1199 },
            { name: "₹1499 Plan", details: "Unlimited 5G Data | 180 days | Unlimited Calls", amount: 1499 },
            { name: "₹1799 Plan", details: "Unlimited 5G Data | 180 days | Unlimited Calls", amount: 1799 },
            { name: "₹2199 Plan", details: "Unlimited 5G Data | 365 days | Unlimited Calls", amount: 2199 },
            { name: "₹2699 Plan", details: "Unlimited 5G Data | 365 days | Unlimited Calls", amount: 2699 },
            { name: "₹3499 Plan", details: "Unlimited 5G Data | 365 days | Premium OTT Access", amount: 3499 }
        ],
        "Data Addon Packs": [
            { name: "₹39 Add-on", details: "5GB Extra Data | 1 day", amount: 39 },
            { name: "₹199 Add-on", details: "10GB Extra Data | 1 day", amount: 199 },
            { name: "₹49 Add-on", details: "6GB Extra Data | 1 day", amount: 49 },
            { name: "₹99 Add-on", details: "12GB Extra Data | 3 days", amount: 99 },
            { name: "₹149 Add-on", details: "20GB Extra Data | 7 days", amount: 149 },
            { name: "₹249 Add-on", details: "30GB Extra Data | 15 days", amount: 249 },
            { name: "₹399 Add-on", details: "50GB Extra Data | 30 days", amount: 399 }
        ],
        "Top-up": [
            { name: "₹50 Top-up", details: "Talktime ₹39.37", amount: 39 },
            { name: "₹100 Top-up", details: "Talktime ₹78.74", amount: 100 },
            { name: "₹200 Top-up", details: "Talktime ₹158.74", amount: 200 },
            { name: "₹300 Top-up", details: "Talktime ₹238.74", amount: 300 },
            { name: "₹500 Top-up", details: "Talktime ₹398.74", amount: 500 },
            { name: "₹1000 Top-up", details: "Talktime ₹798.74", amount: 1000 },
            { name: "₹2000 Top-up", details: "Talktime ₹1598.74", amount: 2000 }
        ],
        "Value Packs": [
            { name: "₹75 Value Pack", details: "200MB Data | 30 days", amount: 75 },
            { name: "₹150 Value Pack", details: "500MB Data | 30 days", amount: 150 },
            { name: "₹499 Value Pack", details: "6GB Data | 84 days | Unlimited Calls", amount: 499 },
            { name: "₹999 Value Pack", details: "12GB Data | 180 days | Unlimited Calls", amount: 999 },
            { name: "₹1499 Value Pack", details: "24GB Data | 365 days | Unlimited Calls", amount: 1499 },
            { name: "₹1999 Value Pack", details: "36GB Data | 365 days | Unlimited Calls", amount: 1999 },
            { name: "₹2499 Value Pack", details: "48GB Data | 365 days | Unlimited Calls", amount: 2499 }
        ],
        "Annual Packs": [
            { name: "₹2999 Annual", details: "2.5GB/day | 365 days | Unlimited Calls", amount: 2999 },
            { name: "₹3999 Annual", details: "3GB/day | 365 days | Unlimited Calls", amount: 3999 },
            { name: "₹4999 Annual", details: "3.5GB/day | 365 days | Unlimited Calls", amount: 4999 },
            { name: "₹5999 Annual", details: "4GB/day | 365 days | Unlimited Calls", amount: 5999 },
            { name: "₹6999 Annual", details: "4.5GB/day | 365 days | Unlimited Calls", amount: 6999 },
            { name: "₹7999 Annual", details: "5GB/day | 365 days | Unlimited Calls", amount: 7999 },
            { name: "₹8999 Annual", details: "6GB/day | 365 days | Unlimited Calls", amount: 8999 }
        ]
    };
    // Function to display random popular plans
    function displayRandomPlans() {
        const planContainer = document.getElementById("plan-container");
        planContainer.innerHTML = ''; // Clear previous content
        let allPlans = [];
    
        // Pick random plans from each category
        for (let category in plans) {
            const randomPlan = plans[category][Math.floor(Math.random() * plans[category].length)];
            allPlans.push(randomPlan);
        }
    
        // Display plans
        allPlans.forEach(plan => {
            let planCard = `
                <div class="card my-2 mx-2 py-3 px-2 text-center">
                    <h4>${plan.name}</h4>
                    <p>${plan.details}</p>
                    <div class="text-center">
<button class="btn btn-custom w-50" onclick="openMobileModal(${plan.amount}, '${plan.name}')">
    Recharge Now
</button>

                    </div>
                </div>
            `;
            planContainer.innerHTML += planCard;
        });
    }
    
    // Handle sidebar category clicks
    const categoryElements = document.querySelectorAll(".category");
    categoryElements.forEach(categoryElement => {
        categoryElement.addEventListener("click", function() {
            const categoryName = this.dataset.category;
            document.getElementById("plan-category-title").innerText = categoryName;
            displayPlansForCategory(categoryName);
        });
    });
    
    // Function to display selected category plans
    function displayPlansForCategory(categoryName) {
        const planContainer = document.getElementById("plan-container");
        planContainer.innerHTML = ''; // Clear previous content
    
        plans[categoryName].forEach(plan => {
            let planCard = `
                <div class="card my-2 mx-2 py-3 px-2 text-center">
                    <h4>${plan.name}</h4>
                    <p>${plan.details}</p>
                    <div class="text-center">
<button class="btn btn-custom  w-50" onclick="openMobileModal(${plan.amount}, '${plan.name}')">
    Recharge Now
</button>
         </div>
                </div>
            `;
            planContainer.innerHTML += planCard;
        });
    }
    
    // Store selected plan and redirect to Payment page
    let selectedPlan = {}; // Store selected plan details

    // Open modal and store plan details
    function openMobileModal(amount, planName) {
        selectedPlan = { amount, planName };
        let modal = new bootstrap.Modal(document.getElementById("mobileNumberModal"));
        modal.show();
    }
    
    // Validate mobile number and proceed to payment
    function validateAndProceed() {
        let mobileNumber = document.getElementById("mobileNumber").value.trim();
        let errorMsg = document.getElementById("mobileError");
    
        // Clear previous error messages
        errorMsg.classList.add("d-none");
    
        // 1. Check if field is empty
        if (mobileNumber === "") {
            errorMsg.innerText = "Mobile number is required.";
            errorMsg.classList.remove("d-none");
            return;
        }
    
        // 2. Check for 10-digit length (excluding "+")
        let sanitizedNumber = mobileNumber.replace("+", ""); // Remove "+"
        if (sanitizedNumber.length !== 10) {
            errorMsg.innerText = "Mobile number must be exactly 10 digits.";
            errorMsg.classList.remove("d-none");
            return;
        }
    
        // 3. Check if number starts with 6, 8, or 9
        if (!/^[689]\d{9}$/.test(sanitizedNumber)) {
            errorMsg.innerText = "Mobile number must start with 6, 8, or 9.";
            errorMsg.classList.remove("d-none");
            return;
        }
    
        // 4. Find the user by phone number
        let users = JSON.parse(localStorage.getItem("users")) || [];
        let user = users.find(u => u.phone.trim() === sanitizedNumber);
    
        if (!user) {
            errorMsg.innerText = "Mobile number not found. Please enter a valid registered number.";
            errorMsg.classList.remove("d-none");
            return;
        }
    
        // 5. Store user and plan data in localStorage
        localStorage.setItem("selectedUser", JSON.stringify(user));
        localStorage.setItem("selectedPlan", JSON.stringify({
            mobileNumber: sanitizedNumber,
            planName: selectedPlan.planName,
            baseAmount: selectedPlan.amount,
            tax: Math.round(selectedPlan.amount * 0.05),
            totalPayable: selectedPlan.amount + Math.round(selectedPlan.amount * 0.05)
        }));
    
        // 6. Close modal and redirect to payment page
        let modal = bootstrap.Modal.getInstance(document.getElementById("mobileNumberModal"));
        modal.hide();
        window.location.href = "Payment.html";
    }
    
    </script>
    <!-- Bootstrap CSS (Include in <head>) -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Bootstrap JS (Include before closing </body>) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>